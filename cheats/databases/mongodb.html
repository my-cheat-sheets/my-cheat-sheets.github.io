<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>MongoDB Cheat Sheet</title>
</head>

<body>
  <h1>MongoDB Cheat Sheet (NoSQL)</h1>

  <details open>
    <summary>basic</summary>
      <h2>Basic / CRUD & Collections</h2>
      <ul>
        <ol><strong>Use / Create DB:</strong>
          <pre><code>use blog;</code></pre>
        </ol>
        <ol><strong>Create / Insert Document:</strong>
          <pre><code>
db.users.insertOne({
  name: "Alice",
  age: 28,
  roles: ["user","admin"]
});
        </code></pre>
        </ol>
        <ol><strong>Find All / With Condition:</strong>
          <pre><code>db.users.find();\ndb.users.find({ age: { $gt: 25 } });</code></pre>
        </ol>
        <ol><strong>Update Document:</strong>
          <pre><code>
db.users.updateOne(
  { name: "Alice" },
  { $set: { age: 29 } }
);
        </code></pre>
        </ol>
        <ol><strong>Delete Document:</strong>
          <pre><code>db.users.deleteOne({ name: "Alice" });</code></pre>
        </ol>
      </ul>
  </details>

  <details>
    <summary>advanced</summary>
      <h2>Advanced / Aggregation & Indexes</h2>
      <ul>
        <ol><strong>Find & Projection:</strong>
          <pre><code>db.products.find({ stock: { $gt: 0 } }, { name: 1, price: 1 });</code></pre>
        </ol>
        <ol><strong>Aggregation Example:</strong>
          <pre><code>
db.orders.aggregate([
  { $match: { status: "completed" } },
  { $group: {
      _id: "$userId",
      totalSpent: { $sum: "$amount" }
    }
  },
  { $sort: { totalSpent: -1 } }
]);
        </code></pre>
        </ol>
        <ol><strong>Create Index:</strong>
          <pre><code>db.users.createIndex({ email: 1 }, { unique: true });</code></pre>
        </ol>
      </ul>
  </details>

  <details>
    <summary>pro</summary>
      <h2>Pro / Useful MongoDB Operations</h2>
      <ul>
        <ol><strong>Update Many:</strong>
          <pre><code>db.users.updateMany({ active: false }, { $set: { active: true } });</code></pre>
        </ol>
        <ol><strong>Delete Many:</strong>
          <pre><code>db.logs.deleteMany({ timestamp: { $lt: new Date("2024-01-01") } });</code></pre>
        </ol>
        <ol><strong>Bulk Insert:</strong>
          <pre><code>
db.users.insertMany([
  { name: "John", age: 22 },
  { name: "Doe", age: 25 }
]);
        </code></pre>
        </ol>
      </ul>
  </details>
  <!-- References Section -->
  <details>
    <summary>references</summary>
      <h2>References</h2>
      <ul>
        <li><a href="https://www.mongodb.com/docs/" target="_blank">MongoDB Documentation</a></li>
      </ul>
  </details>

  <!-- Setup Section -->
  <details open>
    <summary>setup</summary>
      <h2>Setup & Verification</h2>
      <p>Check if the MongoDB server/client is installed:</p>
      <pre><code>mongod --version</code></pre>
  </details>
</body>

</html>